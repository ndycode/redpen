# redpen

**The enterprise-grade audit system for AI-assisted engineering.**

redpen forces a rigorous, senior-engineer level review process on codebases generated by AI tools. It ensures that velocity does not come at the cost of security, architectural integrity, or operational health.

### Installation

```bash
npm install -g redpen
```

### Protocol

redpen operates as an external audit layer. It does not auto-correct; it validates against strict standards.

1. **Initiate Review**
   Determine the next required audit in the sequence.
   ```bash
   redpen next
   ```

2. **Extract Criteria**
   Copy the specific audit standard.
   ```bash
   redpen copy security/authorization-boundaries
   ```

3. **Execute Audit**
   Paste the criteria into your AI environment (Cursor, Claude, Windsurf) to enforce the standard against your current diff.

4. **Verify & Close**
   Once the standard is met, mark the audit as complete.
   ```bash
   redpen done security/authorization-boundaries
   ```

### Audit Scope

The system enforces a 7-phase quality gate.

#### 1. Security
Critical infrastructure analysis. Must be cleared before any interface work.
- `security/authorization-boundaries` — RLS policies, RBAC, and data exposure risks.
- `security/data-integrity` — Transactional guarantees and race condition analysis.
- `security/state-invariants` — Business logic continuity and state machine validity.
- `security/impact-analysis` — Coupling and regression risk assessment.

#### 2. Architecture
System health and scalability validation.
- `architecture/render-performance` — Server/Client boundary discipline.
- `architecture/operational-health` — Observability, logging, and failure tracing.
- `architecture/system-optimization` — Resource usage and bundle efficiency.

#### 3. Quality
- `quality/behavioral-coverage` — Definition of critical path tests.

#### 4. Interface (UI/Mobile)
- `interface/design-system` — Token usage and visual consistency.
- `interface/mobile/responsive-layout` — Viewport adaptability.
- `interface/mobile/ergonomic-reach` — Touch target placement and usability.
- `interface/resilience-ux` — Error states and recovery flows.

#### 5. Product & Growth
- `product/voice-tone` — Brand consistency.
- `growth/conversion-layout` — Structural effectiveness.

### Philosophy

**Verification over Generation.**
AI tools prioritize plausible output. redpen prioritizes correct output.

**Standards over Preference.**
The prompts enforce architectural standards (Normal Form, ACID, SOLID), not stylistic preferences.

**Identity.**
redpen acts as the "Principal Engineer" in the loop, providing the constraints necessary for safe autopilot.
